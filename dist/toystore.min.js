"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++){s(r[o])}return s})({1:[function(require,module,exports){var Difference=module.exports=function difference(a,b){if(b.length>a.length){var tmp=a;a=b;b=tmp}var o_a={};var o_b={};for(var i=0;i<a.length;i+=1){o_a[a[i]]=a[i]}for(var i=0;i<b.length;i+=1){o_b[b[i]]=b[i]}var result=[];for(var key in o_b){if(o_a[key]===undefined)result.push(o_b[key])}for(var key in o_a){if(o_b[key]===undefined)result.push(o_a[key])}return result}},{}],2:[function(require,module,exports){module.exports=intersect;function intersect(arr1,arr2){var result=[];var len=arr1.length;for(var i=0;i<len;i++){var elem=arr1[i];if(arr2.indexOf(elem)>-1){result.push(elem)}}return result}},{}],3:[function(require,module,exports){module.exports=get;function get(obj,props){if(typeof props=="string"){props=props.split(".")}var prop;while(prop=props.shift()){obj=obj[prop];if(!obj){return obj}}return obj}},{}],4:[function(require,module,exports){module.exports=set;function set(obj,props,value){if(typeof props=="string"){props=props.split(".")}var lastProp=props.pop();if(!lastProp){return false}var thisProp;while(thisProp=props.shift()){if(!obj[thisProp]){obj[thisProp]={}}obj=obj[thisProp]}obj[lastProp]=value;return true}},{}],5:[function(require,module,exports){"use strict";var _get=require("just-safe-get");var _set=require("just-safe-set");var difference=require("difference");var intersect=require("just-intersect");function zipObject(keys,values){return keys.reduce(function(object,currentValue,currentIndex){object[currentValue]=values[currentIndex];return object},{})}function create(){var defaultState=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var state=defaultState;var watchers=[];function get(path){return _get(state,path)}function getAll(paths){if(paths===undefined){return state}var values=paths.map(get);return zipObject(paths,values)}function notifyWatchersOnPaths(paths){var expandedPaths=_expandNestedPaths(paths);watchers.map(function(watcher){var hasPath=intersect(expandedPaths,watcher.paths).length>0;if(hasPath){watcher.callback(getAll(paths))}})}function set(path,value){var paths=_pathsArray(path);if((typeof value==="undefined"?"undefined":_typeof(value))==="object"){var oldKeys=_deepKeys(get(path),path);var removedKeys=void 0;paths=_deepKeys(value,path);removedKeys=difference(oldKeys,paths);if(removedKeys.length>0){paths=paths.concat(removedKeys)}}setSilent(path,value);notifyWatchersOnPaths(paths)}function setSilent(path,value){_set(state,path,value)}function setAll(obj){var paths=Object.keys(obj);paths.map(function(path){return setSilent(path,obj[path])});notifyWatchersOnPaths(paths)}function reset(newState){state=newState}function watch(paths,callback){paths=_pathsArray(paths);watchers.push({callback:callback,paths:paths})}function unwatch(callback){var index=watchers.findIndex(function(w){return w.callback===callback});if(index){delete watchers[index]}}function unwatchAll(){watchers=[]}return{get:get,getAll:getAll,reset:reset,set:set,setAll:setAll,setSilent:setSilent,watch:watch,unwatch:unwatch,unwatchAll:unwatchAll}}function _pathsArray(paths){return paths instanceof Array?paths:[paths]}function _expandNestedPaths(paths){var expandedPaths=[];_pathsArray(paths).forEach(function(p){if(p.indexOf(".")!==-1){var pathsWithRoots=p.split(".").map(function(value,index,array){return array.slice(0,index+1).join(".")});expandedPaths=expandedPaths.concat(pathsWithRoots)}else{expandedPaths.push(p)}});return expandedPaths}function _deepKeys(obj){var prefix=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;return Object.keys(obj).reduce(function(acc,key){var value=obj[key];if((typeof value==="undefined"?"undefined":_typeof(value))==="object"){acc.push.apply(acc,_deepKeys(value,prefix?prefix+"."+key:key))}else{acc.push(prefix?prefix+"."+key:key)}return acc},[])}module.exports={create:create}},{difference:1,"just-intersect":2,"just-safe-get":3,"just-safe-set":4}]},{},[5]);